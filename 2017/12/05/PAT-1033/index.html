<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="hold my heart"><title>PAT [1033] To Fill or Not to Fill (30) | Hengliy_Space</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">PAT [1033] To Fill or Not to Fill (30)</h1><a id="logo" href="/.">Hengliy_Space</a><p class="description">happy codeing for futrue and myself</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 我的GitHub</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">PAT [1033] To Fill or Not to Fill (30)</h1><div class="post-meta">Dec 5, 2017<span> | </span><span class="category"><a href="/categories/CODE/">code</a></span></div><div class="post-content"><blockquote>
<p>With highways available, driving a car from Hangzhou to any other city is easy. But since the tank capacity of a car is limited, we have to find gas stations on the way from time to time. Different gas station may give different price. You are asked to carefully design the cheapest route to go.</p>
</blockquote>
<h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. For each case, the first line contains 4 positive numbers: Cmax (&lt;= 100), the maximum capacity of the tank; D (&lt;=30000), the distance between Hangzhou and the destination city; Davg (&lt;=20), the average distance per unit gas that the car can run; and N (&lt;= 500), the total number of gas stations. Then N lines follow, each contains a pair of non-negative numbers: Pi, the unit gas price, and Di (&lt;=D), the distance between this station and Hangzhou, for i=1,…N. All the numbers in a line are separated by a space.</p>
<h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, print the cheapest price in a line, accurate up to 2 decimal places. It is assumed that the tank is empty at the beginning. If it is impossible to reach the destination, print “The maximum travel distance = X” where X is the maximum possible distance the car can run, accurate up to 2 decimal places.</p>
<p><strong><em>Sample Input 1:</em></strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">50</span> <span class="number">1300</span> <span class="number">12</span> <span class="number">8</span></span><br><span class="line"><span class="number">6.00</span> <span class="number">1250</span></span><br><span class="line"><span class="number">7.00</span> <span class="number">600</span></span><br><span class="line"><span class="number">7.00</span> <span class="number">150</span></span><br><span class="line"><span class="number">7.10</span> <span class="number">0</span></span><br><span class="line"><span class="number">7.20</span> <span class="number">200</span></span><br><span class="line"><span class="number">7.50</span> <span class="number">400</span></span><br><span class="line"><span class="number">7.30</span> <span class="number">1000</span></span><br><span class="line"><span class="number">6.85</span> <span class="number">300</span></span><br></pre></td></tr></table></figure></p>
<p><strong><em>Sample Output 1:</em></strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">749.17</span></span><br></pre></td></tr></table></figure></p>
<p><strong><em>Sample Input 2:</em></strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">50</span> <span class="number">1300</span> <span class="number">12</span> <span class="number">2</span></span><br><span class="line"><span class="number">7.10</span> <span class="number">0</span></span><br><span class="line"><span class="number">7.00</span> <span class="number">600</span></span><br></pre></td></tr></table></figure></p>
<p><strong><em>Sample Output 2:</em></strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The maximum travel distance = <span class="number">1200.00</span></span><br></pre></td></tr></table></figure></p>
<p>贪心思想：<br>0、寻找比自己距离远的，到能够到达的最大距离之间的加油站，看他们的油价。如果找到了更低价格的油价，就加油到刚好能到达那个加油站的距离的油，然后去那个更低价格的加油站（有更低的我一分都不想多花在别的距离上，只加到刚好满足更低价格的加油站的距离就行，那样以后的路程我就可以以更低的价格行驶）<br>1、如果找不到更低的，就找尽可能低的油价的加油站，在当前加油站加满油之后过去。因为想要让路程上使用的尽可能是低价的油，既然没有比当前更低价格的了，就让油箱加到最大值，这样能保证利益最大化，保证最大的距离使用的是便宜的油。<br>2、如果往后找我能到的范围内没有车站（把终点也作为一个价格为无穷的车站），就认为不能到达，就要输出最远的行驶距离。</p>
<p>备注：<br>0、元素有两个属性信息的话可以用pair来做<br>1、复杂的问题可以先不考虑优化，先把程序框架写出来，再缩减代码优化</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight c++"><figcaption><span>c++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> pos;</span><br><span class="line">    <span class="keyword">double</span> price;</span><br><span class="line">&#125;gasstation;</span><br><span class="line"></span><br><span class="line">gasstation gasst[<span class="number">502</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(gasstation a,gasstation b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.pos&lt;b.pos)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> Cmax,D,Davg;</span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%d"</span>,&amp;Cmax,&amp;D,&amp;Davg,&amp;N);</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>,&amp;gasst[i].price,&amp;gasst[i].pos);</span><br><span class="line">    sort(gasst,gasst+N,cmp);</span><br><span class="line">    <span class="keyword">if</span>(D==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0.00\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(gasst[<span class="number">0</span>].pos!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"The maximum travel distance = 0.00\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> curstnum=<span class="number">0</span>;               <span class="comment">//当前所处的油站编号,即当前的位置</span></span><br><span class="line">    <span class="keyword">double</span> curgas=<span class="number">0</span>;              <span class="comment">//当前的油量</span></span><br><span class="line">    <span class="keyword">double</span> curcost=<span class="number">0</span>;             <span class="comment">//当前的花费</span></span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="literal">false</span>;              <span class="comment">//是否达到目的</span></span><br><span class="line">    <span class="keyword">double</span> maxrundis=Cmax*Davg;   <span class="comment">//邮箱加满最远能行驶的距离    </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> tag=<span class="literal">false</span>;          <span class="comment">//最大距离内是否有加油站</span></span><br><span class="line">        <span class="keyword">bool</span> ifcheaper=<span class="literal">false</span>;    <span class="comment">//是否有便宜的</span></span><br><span class="line">        <span class="keyword">double</span> cheapestprice=<span class="number">10000</span>;    <span class="comment">//找出最便宜的</span></span><br><span class="line">        <span class="keyword">int</span> cheapestnum;         <span class="comment">//没有更便宜的情况下，找出最便宜的</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(i=curstnum+<span class="number">1</span>;i&lt;N;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>((gasst[i].pos-gasst[curstnum].pos)&lt;=maxrundis)    <span class="comment">//范围内</span></span><br><span class="line">            &#123;</span><br><span class="line">                tag=<span class="literal">true</span>;         <span class="comment">//有加油站</span></span><br><span class="line">                <span class="keyword">if</span>(gasst[i].price&lt;gasst[curstnum].price)        <span class="comment">//情况3-a</span></span><br><span class="line">                &#123;                                            <span class="comment">//且有更便宜的</span></span><br><span class="line">                    ifcheaper=<span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">double</span> dist=gasst[i].pos-gasst[curstnum].pos;</span><br><span class="line">                    <span class="keyword">double</span> needgas=dist/Davg-curgas;</span><br><span class="line">                    curgas=<span class="number">0</span>;</span><br><span class="line">                    curcost+=(needgas*gasst[curstnum].price);</span><br><span class="line">                    curstnum=i;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(gasst[i].price&lt;cheapestprice)</span><br><span class="line">                &#123;</span><br><span class="line">                    cheapestprice=gasst[i].price;</span><br><span class="line">                    cheapestnum=i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(!ifcheaper&amp;&amp;(maxrundis&gt;=(D-gasst[curstnum].pos)))   <span class="comment">//说明已经可以到达目的地了,情况1</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">double</span> dist=D-gasst[curstnum].pos;</span><br><span class="line">            <span class="keyword">double</span> needgas=dist/Davg-curgas;</span><br><span class="line">            curcost+=needgas*gasst[curstnum].price;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>,curcost);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(tag&amp;&amp;!ifcheaper)            <span class="comment">//情况3-b</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">double</span> needgas=Cmax-curgas;</span><br><span class="line">            curcost+=(needgas*gasst[curstnum].price);</span><br><span class="line">            <span class="keyword">double</span> dist=gasst[cheapestnum].pos-gasst[curstnum].pos;</span><br><span class="line">            curgas=Cmax-dist/Davg;</span><br><span class="line">            curstnum=cheapestnum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!tag)                        <span class="comment">//情况2</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"The maximum travel distance = %.2lf\n"</span>,gasst[curstnum].pos+maxrundis);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/贪心算法/">贪心算法</a><a href="/tags/模拟/">模拟</a></div><div class="post-nav"><a href="/2017/12/06/PAT_1038/" class="pre">PAT [1033] Recover the Smallest (25)</a><a href="/2017/12/04/按位来确定是否被访问过/" class="next">按位来确定是否被访问过</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://hengliy.github.io"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CODE/">code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/折腾日记/">折腾日记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/CODE/" style="font-size: 15px;">code</a> <a href="/tags/GIT/" style="font-size: 15px;">Git</a> <a href="/tags/贪心算法/" style="font-size: 15px;">贪心算法</a> <a href="/tags/模拟/" style="font-size: 15px;">模拟</a> <a href="/tags/树/" style="font-size: 15px;">树</a> <a href="/tags/ANS/" style="font-size: 15px;">ans</a> <a href="/tags/折腾/" style="font-size: 15px;">折腾</a> <a href="/tags/图论/" style="font-size: 15px;">图论</a> <a href="/tags/欧拉图/" style="font-size: 15px;">欧拉图</a> <a href="/tags/排序/" style="font-size: 15px;">排序</a> <a href="/tags/VPN/" style="font-size: 15px;">VPN</a> <a href="/tags/我的随笔-随笔-CODE-算法/" style="font-size: 15px;">我的随笔 -随笔 -code -算法</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/17/VPN服务器搭建/">VPN服务器搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/10/Git学习/">Git学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/08/PAT-1126/">PAT [1126] Eulerian path (25)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/08/PAT-1127/">PAT [1127] ZigZagging on a Tree (30)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/06/PAT_1038/">PAT [1033] Recover the Smallest (25)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/05/PAT-1033/">PAT [1033] To Fill or Not to Fill (30)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/04/按位来确定是否被访问过/">按位来确定是否被访问过</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/03/PAT_1026/">PAT [1026] TableTennis (30)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/30/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/30/大三随笔/">大三随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://hengliy.github.io" title="Hengliy" target="_blank">Hengliy</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">Hengliy_Space.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>